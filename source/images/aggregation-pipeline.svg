<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="820" height="590" x="0" y="0" version="1.1" viewBox="0 0 820 590"><g id="Layer_2"><g><path fill="#AFD1E8" d="M339.058,210.318 L450.147,210.318 L450.147,227.807 L339.058,227.807 z"/><text transform="matrix(1, 0, 0, 1, 395.479, 219.063)"><tspan x="-56.5" y="4.5" fill="#13206F" font-family="Inconsolata" font-size="14">cust_id: &quot;A123&quot;,</tspan></text></g><g><path fill="#AFD1E8" d="M340.074,319.396 L451.164,319.396 L451.164,336.885 L340.074,336.885 z"/><text transform="matrix(1, 0, 0, 1, 396.496, 329.384)"><tspan x="-56.5" y="4.5" fill="#13206F" font-family="Inconsolata" font-size="14">cust_id: &quot;A123&quot;,</tspan></text></g><path fill-opacity="0" stroke="#13206F" stroke-width="1" d="M309.96,185.092 L482.2,185.092 L482.2,505.213 L309.96,505.213 z"/><g><text transform="matrix(1, 0, 0, 1, 329.585, 313.228)"><tspan x="-4" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">{</tspan></text><text transform="matrix(1, 0, 0, 1, 383.644, 344.228)"><tspan x="-42.5" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">amount: 250,</tspan></text><text transform="matrix(1, 0, 0, 1, 380.144, 361.228)"><tspan x="-39" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">status: &quot;A&quot;</tspan></text><text transform="matrix(1, 0, 0, 1, 329.585, 377.228)"><tspan x="-4" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">}</tspan></text></g><g><text transform="matrix(1, 0, 0, 1, 329.585, 204.092)"><tspan x="-4" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">{</tspan></text><text transform="matrix(1, 0, 0, 1, 383.643, 235.092)"><tspan x="-42.5" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">amount: 500,</tspan></text><text transform="matrix(1, 0, 0, 1, 380.143, 252.092)"><tspan x="-39" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">status: &quot;A&quot;</tspan></text><text transform="matrix(1, 0, 0, 1, 329.585, 268.092)"><tspan x="-4" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">}</tspan></text></g><path fill-opacity="0" stroke="#25337C" stroke-width="1" d="M309.83,292.67 L482.33,292.693"/><path fill-opacity="0" stroke="#25337C" stroke-width="1" d="M309.83,398.58 L482.33,398.603"/><g><text transform="matrix(1, 0, 0, 1, 329.455, 418.846)"><tspan x="-4" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">{</tspan></text><text transform="matrix(1, 0, 0, 1, 383.514, 449.846)"><tspan x="-42.5" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">amount: 200,</tspan></text><text transform="matrix(1, 0, 0, 1, 380.014, 466.846)"><tspan x="-39" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">status: &quot;A&quot;</tspan></text><text transform="matrix(1, 0, 0, 1, 329.455, 482.846)"><tspan x="-4" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">}</tspan></text></g><path fill="#A3A3A3" d="M339.58,425.484 L450.67,425.484 L450.67,442.972 L339.58,442.972 z"/><text transform="matrix(1, 0, 0, 1, 396.08, 434.228)"><tspan x="-56.5" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">cust_id: &quot;B212&quot;,</tspan></text><g><path fill-opacity="0" stroke="#13206F" stroke-width="1" d="M11.17,131.848 L183.41,131.848 L183.41,558.848 L11.17,558.848 z"/><g><text transform="matrix(1, 0, 0, 1, 30.795, 145.848)"><tspan x="-4" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">{</tspan></text><text transform="matrix(1, 0, 0, 1, 98.854, 161.848)"><tspan x="-56.5" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">cust_id: &quot;A123&quot;,</tspan></text><text transform="matrix(1, 0, 0, 1, 84.854, 178.848)"><tspan x="-42.5" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">amount: 500,</tspan></text><text transform="matrix(1, 0, 0, 1, 81.354, 195.848)"><tspan x="-39" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">status: &quot;A&quot;</tspan></text><text transform="matrix(1, 0, 0, 1, 30.795, 211.848)"><tspan x="-4" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">}</tspan></text></g><path fill-opacity="0" stroke="#25337C" stroke-width="1" d="M11.17,238.672 L183.67,238.695"/><g><text transform="matrix(1, 0, 0, 1, 30.795, 251.984)"><tspan x="-4" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">{</tspan></text><text transform="matrix(1, 0, 0, 1, 98.854, 267.984)"><tspan x="-56.5" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">cust_id: &quot;A123&quot;,</tspan></text><text transform="matrix(1, 0, 0, 1, 84.854, 284.984)"><tspan x="-42.5" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">amount: 250,</tspan></text><text transform="matrix(1, 0, 0, 1, 81.354, 301.984)"><tspan x="-39" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">status: &quot;A&quot;</tspan></text><text transform="matrix(1, 0, 0, 1, 30.795, 317.984)"><tspan x="-4" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">}</tspan></text></g><path fill-opacity="0" stroke="#25337C" stroke-width="1" d="M11.17,344.582 L183.67,344.605"/><g><text transform="matrix(1, 0, 0, 1, 30.795, 358.848)"><tspan x="-4" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">{</tspan></text><text transform="matrix(1, 0, 0, 1, 98.854, 374.848)"><tspan x="-56.5" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">cust_id: &quot;B212&quot;,</tspan></text><text transform="matrix(1, 0, 0, 1, 84.854, 391.848)"><tspan x="-42.5" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">amount: 200,</tspan></text><text transform="matrix(1, 0, 0, 1, 81.354, 408.848)"><tspan x="-39" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">status: &quot;A&quot;</tspan></text><text transform="matrix(1, 0, 0, 1, 30.795, 424.848)"><tspan x="-4" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">}</tspan></text></g><path fill-opacity="0" stroke="#25337C" stroke-width="1" d="M10.998,451.215 L183.498,451.238"/><g><text transform="matrix(1, 0, 0, 1, 30.795, 465.652)"><tspan x="-4" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">{</tspan></text><text transform="matrix(1, 0, 0, 1, 98.854, 481.652)"><tspan x="-56.5" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">cust_id: &quot;A123&quot;,</tspan></text><text transform="matrix(1, 0, 0, 1, 84.854, 498.652)"><tspan x="-42.5" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">amount: 300,</tspan></text><text transform="matrix(1, 0, 0, 1, 81.354, 515.652)"><tspan x="-39" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">status: &quot;D&quot;</tspan></text><text transform="matrix(1, 0, 0, 1, 30.795, 531.652)"><tspan x="-4" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">}</tspan></text></g></g><path fill="#AFD1E8" d="M640.77,272.477 L727.335,272.477 L727.335,289.965 L640.77,289.965 z"/><text transform="matrix(1, 0, 0, 1, 683.27, 281.599)"><tspan x="-42.5" y="4.5" fill="#13206F" font-family="Inconsolata" font-size="14">_id: &quot;A123&quot;,</tspan></text><g><text transform="matrix(1, 0, 0, 1, 629.49, 266.527)"><tspan x="-4" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">{</tspan></text><text transform="matrix(1, 0, 0, 1, 676.548, 297.527)"><tspan x="-35.5" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">total: 750</tspan></text><text transform="matrix(1, 0, 0, 1, 629.49, 313.527)"><tspan x="-4" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">}</tspan></text></g><path fill="#A3A3A3" d="M639.172,382.568 L727.335,382.568 L727.335,400.057 L639.172,400.057 z"/><text transform="matrix(1, 0, 0, 1, 682.11, 391.934)"><tspan x="-42.5" y="4.5" fill="#13206F" font-family="Inconsolata" font-size="14">_id: &quot;B212&quot;,</tspan></text><g><text transform="matrix(1, 0, 0, 1, 628.029, 376.848)"><tspan x="-4" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">{</tspan></text><text transform="matrix(1, 0, 0, 1, 675.087, 407.848)"><tspan x="-35.5" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">total: 200</tspan></text><text transform="matrix(1, 0, 0, 1, 628.029, 423.848)"><tspan x="-4" y="4.5" fill="#25337C" font-family="Inconsolata" font-size="14">}</tspan></text></g><path fill-opacity="0" stroke="#13206F" stroke-width="1" d="M602.097,237.184 L774.467,237.184 L774.467,450.672 L602.097,450.672 z"/><path fill-opacity="0" stroke="#25337C" stroke-width="1" d="M601.967,344.762 L774.467,344.785"/><text transform="matrix(1, 0, 0, 1, 120.998, 48.201)"><tspan x="-110.5" y="6" fill="#13206F" font-family="Inconsolata" font-size="20">db.orders.aggregate( [</tspan></text><g><path fill-opacity="0" stroke="#2A86C0" stroke-width="1" d="M161.787,71.459 L197.788,71.046"/><g><path fill="#2A86C0" d="M197.822,74.046 L205.787,70.955 L197.753,68.047 z"/><path fill-opacity="0" stroke="#2A86C0" stroke-width="1" d="M197.822,74.046 L205.787,70.955 L197.753,68.047 z"/></g></g><g><path fill-opacity="0" stroke="#2A86C0" stroke-width="1" d="M161.787,92.354 L197.788,91.941"/><g><path fill="#2A86C0" d="M197.822,94.941 L205.787,91.849 L197.753,88.941 z"/><path fill-opacity="0" stroke="#2A86C0" stroke-width="1" d="M197.822,94.941 L205.787,91.849 L197.753,88.941 z"/></g></g><text transform="matrix(1, 0, 0, 1, 106.451, 69.701)"><tspan x="-54.5" y="5.5" fill="#2A86C0" font-family="Inconsolata" font-size="18">$match stage</tspan></text><text transform="matrix(1, 0, 0, 1, 106.451, 90.701)"><tspan x="-54.5" y="5.5" fill="#2A86C0" font-family="Inconsolata" font-size="18">$group stage</tspan></text><text transform="matrix(1, 0, 0, 1, 69.011, 12.064)"><tspan x="-45.5" y="5.5" fill="#2A86C0" font-family="Inconsolata" font-size="18">Collection</tspan></text><text transform="matrix(1, 0, 0, 1, 97.334, 572.598)"><tspan x="-27.5" y="5.5" fill="#13206F" font-family="Inconsolata" font-size="18">orders</tspan></text><text transform="matrix(1, 0, 0, 1, 686.848, 226.476)"><tspan x="-32" y="5.5" fill="#13206F" font-family="Inconsolata" font-size="18">Results</tspan></text><g><path fill-opacity="0" stroke="#358EC4" stroke-width="4" d="M494.088,345.77 L576.196,345.77"/><g><path fill="#358EC4" d="M576.196,350.57 L588.996,345.77 L576.196,340.97 z"/><path fill-opacity="0" stroke="#358EC4" stroke-width="4" d="M576.196,350.57 L588.996,345.77 L576.196,340.97 z"/></g></g><g><path fill-opacity="0" stroke="#358EC4" stroke-width="4" d="M202.787,345.348 L284.895,345.348"/><g><path fill="#358EC4" d="M284.895,350.148 L297.695,345.348 L284.895,340.548 z"/><path fill-opacity="0" stroke="#358EC4" stroke-width="4" d="M284.895,350.148 L297.695,345.348 L284.895,340.548 z"/></g></g><text transform="matrix(1, 0, 0, 1, 242.096, 355.199)"><tspan x="-27.5" y="5.5" fill="#2A86C0" font-family="Inconsolata" font-size="18">$match</tspan></text><text transform="matrix(1, 0, 0, 1, 535.783, 355.199)"><tspan x="-27.5" y="5.5" fill="#2A86C0" font-family="Inconsolata" font-size="18">$group</tspan></text><g><text transform="matrix(1, 0, 0, 1, 374.516, 68)"><tspan x="-140.5" y="6" fill="#13206F" font-family="Inconsolata" font-size="20">{ $match: { status: &quot;A&quot; } },</tspan></text><text transform="matrix(1, 0, 0, 1, 524.516, 91)"><tspan x="-290.5" y="6" fill="#13206F" font-family="Inconsolata" font-size="20">{ $group: { _id: &quot;$cust_id&quot;,total: { $sum: &quot;$amount&quot; } } }</tspan></text></g><text transform="matrix(1, 0, 0, 1, 216.545, 110.789)"><tspan x="-20.5" y="6" fill="#13206F" font-family="Inconsolata" font-size="20">] )</tspan></text><g><path fill-opacity="0" stroke="#358EC4" stroke-width="1" d="M70.334,19.5 L70.334,28.5"/><g><path fill="#358EC4" d="M67.334,28.5 L70.334,36.5 L73.334,28.5 z"/><path fill-opacity="0" stroke="#358EC4" stroke-width="1" d="M67.334,28.5 L70.334,36.5 L73.334,28.5 z"/></g></g></g></svg>